!function(l){l(document).ready(function(){for(var e=l('[data-sf-role="searchTextBoxId"]'),t=0;t<e.length;t++){var a=l(e[t]);s({resultsUrl:a.siblings('[data-sf-role="resultsUrl"]').first().val(),indexCatalogue:a.siblings('[data-sf-role="indexCatalogue"]').first().val(),wordsMode:a.siblings('[data-sf-role="wordsMode"]').first().val(),disableSuggestions:l.parseJSON(a.siblings('[data-sf-role="disableSuggestions"]').first().val()),minSuggestionLength:a.siblings('[data-sf-role="minSuggestionLength"]').first().val(),suggestionFields:a.siblings('[data-sf-role="suggestionFields"]').first().val(),language:a.siblings('[data-sf-role="language"]').first().val(),suggestionsRoute:a.siblings('[data-sf-role="suggestionsRoute"]').first().val(),searchTextBoxSelector:a.val(),searchButtonSelector:a.siblings('[data-sf-role="searchButtonId"]').first().val()})}function s(o){var n=l(o.searchTextBoxSelector);if(l(o.searchButtonSelector).click(i),n.keypress(function(e){e=e||window.event;var t=null;t=e.keyCode?e.keyCode:e.charCode;13==t&&i(e)}),!o.disableSuggestions){n.keyup(function(e){if(38!=e.keyCode&&40!=e.keyCode&&27!=e.keyCode){13==e.keyCode&&i(e);var t={},a=n.val().trim();a.length>=o.minSuggestionLength&&(t.IndexName=o.indexCatalogue,t.SuggestionFields=o.suggestionFields,t.Text=a,t.Language=o.language,l.ajax({type:"GET",url:o.suggestionsRoute,dataType:"json",data:t,success:s}))}});try{n.autocomplete({source:[],messages:{noResults:"",results:function(){}},select:function(e,t){n.val(t.item.value),i(e)}}).autocomplete("widget").addClass("sf-autocomplete")}catch(e){}}function s(e,t){var a=e.Suggestions;n.autocomplete("option","source",a),n.autocomplete("search",n.val().trim())}function i(e){(e=e||window.event).stopPropagation?e.stopPropagation():e.cancelBubble=!0,e.preventDefault?e.preventDefault():e.returnValue=!1;var t=n.val();t&&t.trim()&&o.indexCatalogue&&(window.DataIntelligenceSubmitScript&&DataIntelligenceSubmitScript._client.sentenceClient.writeSentence({predicate:"Search for",object:n.val(),objectMetadata:[{K:"PageUrl",V:location.href}]}),window.location=function(){var e=n.val().trim(),t=(-1==o.resultsUrl.indexOf("?")?"?":"&")+"indexCatalogue="+encodeURIComponent(o.indexCatalogue),a="&searchQuery="+encodeURIComponent(e),s="&wordsMode="+o.wordsMode;return o.resultsUrl+t+a+s}())}}})}(jQuery);
//# sourceMappingURL=Search-box.min.js.map